<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>CTF Intro | Cornell Hacking Club</title>

    <link rel="stylesheet" href="../../css/reveal.css">
    <link rel="stylesheet" href="../../css/theme/chc.css" id="theme">
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section>
                <h1>Cornell Hacking Club</h1>
                <p>CTF Bootcamp</p>
            </section>

            <section>
                <h2>Structure of a CTF</h2>
                <ul>
                    <li>Most points wins</li>
                    <li>Ususally either Jeopardy or Attack/Defense</li>
                </ul>
            </section>

            <section>
                <h2>Jeopardy</h2>
                <ul>
                    <li>Many challenges in ~6 categories</li>
                    <li>e.g. Web, Reversing, Pwnable, Crypto, OSINT, Misc</li>
                    <li>Almost always a 1 point participation challenge</li>
                    <li>Challenges are worth different amounts of points</li>
                    <li>Some challenges use weights as a formula based on the number of solves</li>
                </ul>
            </section>

            <section>
                <h2>Attack/Defense</h2>
                <ul>
                    <li>We don't really do these</li>
                    <li>You, and everyone else, gets a vulnerable VM </li>
                    <li>You need to fix your vulnerabilies and exploit them in other team's servers</li>
                    <li>Fun and thrilling, but require constant attention</li>
                    <li>Like being friends with Arjun</li>
                </ul>
            </section>
            
            <section>
                <h2>Binary Reversing</h2>
            </section>
            
            <section>
                <h3>What are they?</h3>
                <ul>
                    <li>Given a binary executable, break into it / exploit some vulnerability in order to find the flag</li>
                    <ul>
                        <li>Simple example: given an ELF file, break it and read the description to find a hard-coded password, which will then return the key</li>
                    </ul>
                    <li>Low level stuff</li>
                    <li>As a result, a different pace from some of the other types of challenges</li>
                    <li>Requires a more intimate knowledge of Assembly, processors, file types and systems, etc.</li>
                    <ul>
                        <li>Not too hard to get into as the information and techniques are readily available online</li>
                    </ul>
                </ul>
            </section>
            
            <section>
                <h3>Some techniques and technologies</h3>
                <ul>
                    <li>Buffer Overflow attack:</li>
                    <ul>
                        <li>Exploiting memory leaks and allowing for overwriting of memory past allowed access: common in C programs that use certain commands or mis-use malloc().</li>
                        <li>E.g. CS 3410 Project 4, exploits strcmp vulnerability.</li>
                    </ul>
                    <li>GDB:</li>
                    <ul>
                        <li>Built-in debugger for unix based systems. Allows a step-by-step decomposition of programs.</li>
                        <li>See the register values, stack, and other useful information.</li>
                    </ul>
                    <li>IDA Pro (free and paid):</li>
                    <ul>
                        <li>Built-in debugger for unix based systems. Allows a step-by-step decomposition of programs.</li>
                        <li>Interactive disassembly software, allows for viewing and parsing of binary executables and their related assembly code far easier than the inbuilt unix stuff like readelf.</li>
                    </ul>
                </ul>
            </section>
            
            <section>
                <h3>Useful resources getting for getting started</h3>
                <ul>
                    <li>Binary reversing course:</li>
                    <ul>
                        <li>http://liveoverflow.com/binary_hacking/index.html</li>
                    </ul>
                    <li>Beginner CTF writeup for some BR challenges:</li>
                    <ul>
                        <li>https://veteransec.com/2018/10/19/hacktober-ctf-2018-binary-analysis-larry/</li>
                    </ul>
                    <li>More general overview of Binary Reversing:</li>
                    <ul>
                        <li>https://opensourceforu.com/2015/12/the-basics-of-binary-exploitation/</li>
                    </ul>
                </ul>
            </section>
                

            <section>
                <h2>Web</h2>
            </section>

            <section>
                <h3>Basic web vulnerabilities</h3>
                <ul>
                    <li>SQL Injection</li>
                    <li>Sensitive data exposure</li>
                    <li>Cross Site Scripting</li>
                    <li>Components with know security vulnerabilities</li>
                </ul>
            </section>

            <section>
                <h3>SQL Injection</h3>
                <cite>(XKCD #327)</cite><br>
                <img src="exploits_of_a_mom.png" alt="XKCD Comic"><br>
                <img src="sql_injection_example.png" alt="SQL Injection Example"><br>
            </section>

            <section>
                <h3>Sensitive data exposure</h3>
                <ul>
                    <li>Generally letting attackers access things they shouldn't be able to</li>
                    <li>Exposed API</li>
                    <li>Password file in web directory</li>
                    <li>Serving .git or similar in web directory</li>
                </ul>
            </section>

            <section>
                <h3>Cross Site Scripting</h3>
                <ul>
                    <li>If user input is unsanitized and posted to website you can inject scripting into it</li>
                </ul>
                <br><br>
                Example:<br>
                <code style="font-size: .75em">
                    My name&lt;script>alert("You've been hacked!")&lt;/script>
                </code>
            </section>

            <section>
                <h3>Components with know security vulnerabilities</h3>
                <img src="wordpress_vulnerabilities.png" alt="Wordpress Vulnerabilities">
            </section>

            <section>
                <h2>Reversing</h2>
            </section>

            <section id="crypto">
                <h2>Crypto</h2>
            </section>

            <section>
                <h3>Novelty Crypto</h3>
                <ul>
                    <li> Steganography: Hiding secrets in plain sight.
                        <p> Usually worth few points, often hidden inside of images or audio </p>
                    </li>
                    <li> Classical Ciphers
                        <p> Ceaser Ciphers, One-Time-Pads, etc. Usually suceptible to statistical attacks</p>
                    </li>
                </ul>
            </section>

            <section>
                <h3> Cracking Two-Time-Pads: </h3>
                <p> If we have c1 = m1 ⊕ k and c2 = m2 ⊕ k then
                </p>
                <p>c1 ⊕ c2 = m1 ⊕ m2</p>
                <p> Use crib-dragging to recover the individual messages </p>
            </section>

            <section>
                <h3> Modern Crypto </h3>
                <ul>
                    <li> Symmetric Crypto: Block Ciphers, Stream Ciphers, Hash functions
                        <p> AES: Look at "mode of operation". ECB: easy, CBC: Look for bit flipping attacks, CTR: look
                            for IV reuse, GCM: Look for nonce reuse/bias
                    </li>
                    <li> Asymmetric Crypto: RSA, ECDSA, Diffe Hellman
                        <ul>
                            <li> RSA: padding oracles, shared factor, weak prime </li>
                            <li> ECDSA/ECDHE: weak nonces, subgroup confinement
                        </ul>
                    </li>
                </ul>
            </section>

            <section>
                <h3> RSA shared-prime attack </h3>
                <p>Assume you have two public keys, n1 and n2. Factoring either key takes exponential time, but GCD is
                    efficient</p>
                <p>If n1 and n2 share a factor, we can do gcd(n1,n2) = p. Then n1 = p*(n1/p) and n2 = p*(n2/p)</p>
            </section>

            <section>
                Practice: <a href="https://cryptopals.com">cryptopals.com</a>
            </section>

            <section>
                <h2>Pwning</h2>
            </section>

            <section>
                <p>Daniel’s informal definition of pwning:
                    take a vulnerable service and turn it into your personal terminal for the machine.</p>
            </section>

            <section>
                <p>If you’ve taken 3410 you’ve already pwned a vulnerable binary: buffer overflow.
                    The most common exploit is a buffer overflow attack,
                    which lets you write data to memory that you shouldn’t be able to.</p>
            </section>

            <section>
                <p>Simple example</p>
                <img src="vuln_code.png">
            </section>


            <section>
                <p>The return address of <code>vuln_function</code> is stored on the stack and so is the buffer <code>name</code>.
                    Gets doesn’t check to make sure we aren’t writing outside of the buffer, so we can overwrite data
                    on the stack.
                    If we overwrite it to point to the <code>shell_functions</code> address instead of the main
                    function,
                    we now have remote code execution.</p>
            </section>

            <section>
                <p>For every vulnerability, people have come up with ways to mitigate them. Stack canaries, Position
                    Independent Execution, etc.
                    This means we have to be more creative when figuring out how we exploit these vulnerabilities.
                    Also many different kinds of exploits that we can chain together to pwn the system: PLT and GOT
                    overwrites, ROP chains, etc.</p>
            </section>

            <section>
                <h2>MITRE CTF Details</h2>
                <ul>
                    <li> Friday 2pm - Saturday 2pm </li>
                    <li> <a href="https://mitrestemctf.org">mitrestemctf.org</a> </li>
                    <li> Room TBD </li>
                    <li> Poll: when do people want to meet? </li>
                    <li> Practice: <a href="https://github.com/mitre-cyber-academy">github.com/mitre-cyber-academy</a></li>
                </ul>
            </section>
        </div>
        <script src="../../js/reveal.js"></script>
        <script>
            Reveal.initialize();
        </script>
</body>

</html>
